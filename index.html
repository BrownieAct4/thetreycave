<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trey Brown-Contacts and More</title>
    <script src="js/objects.js" type="module"></script>
    <link rel="icon" href="images/treycavelogo.png">
    <link rel="stylesheet" href= "css/main.css">
</head>
<body>
    <h1>The Treycave</h1>
    <h3>Welcome to the personal portfolio of Trey Brown.</h3>
    <nav>
        <div class="things"><a href="things.html">The Things I Do</a></div>
        <div class="projects"><a href="projects.html">Personal Projects</a></div>
        <div class="contact"><a href="contact.html">Contact</a></div>
        <div class="guest"><a href="guest.html">Guestbook</a></div>
    </nav>
    <div class="aboutMe">
        <h2>short bio</h2>
    </div>
    <div class="intro">
        <h2>std::cout << "Hello World" << std::endl; </h2>
    </div>
    <div class="intropt2"></div>
        <h2>Hi! I'm a Junior at Liberty University studying Software Engineering. This is my website, welcome! Currently, I enjoy working on games, shaders, and mods to existing titles! I also study Japanese, and am at an N4 Level.</h2>
    </div>
    <div class="todo-list">
        <h2>My To-Do List</h2>
        <form id="taskForm">
            <input type="text" id="taskTitle" placeholder="Task Title" required>
            <input type="text" id="taskDescription" placeholder="Task Description" required>
            <button type="submit">Add Task</button>
        </form>
        <ul id="todoItems">
            <!-- To-Do items will be dynamically added here -->
        </ul>
    </div>
    <script type="module">
        import { Task, TaskManager } from './objects.js';

        // Create a TaskManager instance
        const taskManager = TaskManager();

        // Add a constant task item
        const newTask = new Task("NEW", "create blender models for this site.");
        taskManager.addTask(newTask);

        // Reference to the form and task list
        const taskForm = document.getElementById('taskForm');
        const todoList = document.getElementById('todoItems');

        // Handle form submission to add a new task
        taskForm.addEventListener('submit', (event) => {
            event.preventDefault();

            // Get task details from the form
            const title = document.getElementById('taskTitle').value;
            const description = document.getElementById('taskDescription').value;

            // Create a new Task instance and add it to the TaskManager
            const newTask = new Task(title, description);
            taskManager.addTask(newTask);

            // Update the task list in the UI
            updateTaskList();

            // Clear the form
            taskForm.reset();
        });

        // Function to update the task list in the UI
        function updateTaskList() {
            // Clear the current list
            todoList.innerHTML = '';

            // Add each task to the list
            taskManager.getTasks().forEach(task => {
                const taskItem = document.createElement('li');
                taskItem.textContent = `${task.title} - ${task.description}`;
                todoList.appendChild(taskItem);
            });
        }

        // Initial update to display the constant task
        updateTaskList();
    </script>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            min-height: 100vh;
            margin: 0;
        }

        .todo-list {
            text-align: center;
            margin-bottom: 20px;
        }

        #todoItems {
            list-style-type: none;
            padding: 0;
        }

        #todoItems li {
            margin: 5px 0;
        }

        form {
            margin-bottom: 10px;
        }

        input {
            margin-right: 5px;
        }
    </style>
    <script src="js/proj9.js" defer></script>
    <div id="currentPreferences"></div>
</body>
</html>